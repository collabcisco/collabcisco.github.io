<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Información Cliente ETN</title>
    <!-- Google Fonts for modern typography -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background: #f5f7fa;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            color: #333;
        }
        header {
            background-color: #00457c;
            width: 100%;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        header img {
            height: 50px;
            margin-right: 15px;
        }
        header h1 {
            color: #fff;
            font-weight: 700;
            font-size: 1.5rem;
            margin: 0;
        }
        main {
            background: #fff;
            margin: 40px 20px;
            padding: 30px 40px;
            border-radius: 10px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            max-width: 480px;
            width: 100%;
            text-align: center;
            position: relative;
        }
        .loading-spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #00457c;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
            display: none;
        }
        @keyframes spin {
            0% { transform: rotate(0deg);}
            100% { transform: rotate(360deg);}
        }
        .info-item {
            margin: 15px 0;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        .info-item svg {
            fill: #00457c;
            width: 24px;
            height: 24px;
        }
        #no-data {
            color: #cc0000;
            font-weight: 600;
            margin-top: 20px;
        }
        button#clear-btn {
            margin-top: 25px;
            background-color: #00457c;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button#clear-btn:hover {
            background-color: #00335a;
        }
    </style>
</head>
<body>
    <header>
        <img src="https://www.etn.com.mx/wp-content/themes/etn/images/logo-etn.svg" alt="ETN Logo" />
        <h1>Información Cliente ETN</h1>
    </header>
    <main>
        <div id="loading" class="loading-spinner" aria-label="Cargando información"></div>
        <div id="client-info"></div>
        <div id="no-data"></div>
        <button id="clear-btn" style="display:none;">Limpiar Información</button>
    </main>

    <script>
        // Simulated client data for demonstration (replace with real API call)
        const clients = {
            "5512345678": {
                nombre: "Juan Pérez",
                boleto: "A12345",
                destino: "Ciudad de México",
                fechaCompra: "2025-07-25"
            },
            "5598765432": {
                nombre: "María López",
                boleto: "B67890",
                destino: "Guadalajara",
                fechaCompra: "2025-07-28"
            }
            // Agrega más clientes según sea necesario
        };

        const clientInfoDiv = document.getElementById('client-info');
        const loadingSpinner = document.getElementById('loading');
        const noDataDiv = document.getElementById('no-data');
        const clearBtn = document.getElementById('clear-btn');

        // Íconos SVG para los datos
        const icons = {
            nombre: `<svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>`,
            boleto: `<svg viewBox="0 0 24 24"><path d="M20 6H4v12h16V6zm-2 10H6v-8h12v8z"/></svg>`,
            destino: `<svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zM7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.5-2.5 6.5-5 9.88C9.5 15.5 7 11.5 7 9z"/></svg>`,
            fechaCompra: `<svg viewBox="0 0 24 24"><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/></svg>`
        };

        function getPhoneNumberFromURL() {
            const params = new URLSearchParams(window.location.search);
            return params.get('telefono') || params.get('phone') || params.get('numero') || null;
        }

        function displayClientInfo(client) {
            clientInfoDiv.innerHTML = `
                <div class="info-item">${icons.nombre}<strong>Nombre:</strong> ${client.nombre}</div>
                <div class="info-item">${icons.boleto}<strong>Boleto:</strong> ${client.boleto}</div>
                <div class="info-item">${icons.destino}<strong>Destino:</strong> ${client.destino}</div>
                <div class="info-item">${icons.fechaCompra}<strong>Fecha de Compra:</strong> ${client.fechaCompra}</div>
            `;
            noDataDiv.textContent = '';
            clearBtn.style.display = 'inline-block';
        }

        function clearInfo() {
            clientInfoDiv.innerHTML = '';
            noDataDiv.textContent = '';
            clearBtn.style.display = 'none';
            // Optionally remove phone param from URL without reload
            const url = new URL(window.location);
            url.searchParams.delete('telefono');
            url.searchParams.delete('phone');
            url.searchParams.delete('numero');
            window.history.replaceState({}, document.title, url.toString());
        }

        async function fetchClientData(phone) {
            // Simulate loading delay
            loadingSpinner.style.display = 'block';
            clientInfoDiv.innerHTML = '';
            noDataDiv.textContent = '';
            clearBtn.style.display = 'none';

            // Simulate async fetch with timeout
            return new Promise((resolve) => {
                setTimeout(() => {
                    loadingSpinner.style.display = 'none';
                    resolve(clients[phone] || null);
                }, 1200);
            });
        }

        async function init() {
            const phone = getPhoneNumberFromURL();
            if (!phone) {
                noDataDiv.textContent = 'No se proporcionó número telefónico en la URL.';
                return;
            }
            const client = await fetchClientData(phone);
            if (client) {
                displayClientInfo(client);
            } else {
                noDataDiv.textContent = `No se encontró información para el número: ${phone}`;
            }
        }

        clearBtn.addEventListener('click', clearInfo);

        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>